# ============================
# App Name
# ============================
spring.application.name=kushi

# ============================
# Database Configuration (from App Runner Environment Variables)
# ============================
spring.datasource.url=${SPRING_DATASOURCE_URL}
spring.datasource.username=${SPRING_DATASOURCE_USERNAME}
spring.datasource.password=${SPRING_DATASOURCE_PASSWORD}
spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver

# ============================
# JPA + Hibernate
# ============================
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQL8Dialect

# ============================
# Server Settings (Your Requested Port)
# ============================
server.port=8443
server.tomcat.max-http-post-size=52428800

# ============================
# Multipart (File Upload)
# ============================
spring.servlet.multipart.max-file-size=50MB
spring.servlet.multipart.max-request-size=50MB

# ============================
# Jackson Settings
# ============================
spring.jackson.serialization.FAIL_ON_EMPTY_BEANS=false
spring.jackson.serialization.WRITE_DATES_AS_TIMESTAMPS=false

# ============================
# Logging
# ============================
logging.level.org.springframework.web=DEBUG
logging.level.org.hibernate.SQL=DEBUG

# ============================
# AWS SNS (from Environment Variables)
# ============================
cloud.aws.credentials.access-key=${CLOUD_AWS_CREDENTIALS_ACCESS_KEY}
cloud.aws.credentials.secret-key=${CLOUD_AWS_CREDENTIALS_SECRET_KEY}
cloud.aws.region.static=ap-south-1
cloud.aws.sns.topic.arn=${CLOUD_AWS_SNS_TOPIC_ARN}

# ============================
# Email Configuration (App Runner Variables)
# ============================
spring.mail.host=smtp.gmail.com
spring.mail.port=587
spring.mail.username=${SPRING_MAIL_USERNAME}
spring.mail.password=${SPRING_MAIL_PASSWORD}
spring.mail.properties.mail.smtp.auth=true
spring.mail.properties.mail.smtp.starttls.enable=true

# ============================
# AWS SDK Warning Disable
# ============================
aws.java.v1.disableDeprecationAnnouncement=true

# ============================
# Bean Overriding Support
# ============================
spring.main.allow-bean-definition-overriding=true

# ============================
# Static File Location (Uploads)
# ============================
spring.web.resources.static-locations=file:uploads/
